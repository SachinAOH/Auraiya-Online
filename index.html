<html>
<head>
<title>
Auraiya Online
</title>

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel='manifest' href='https://sachinaoh.github.io/Auraiya-Online/manifest.json' />
  <link rel="apple-touch-icon" href="https://host.auraiya.online/pwa/icons/152x152.jpg" />
  <meta name="msapplication-TileImage" content="https://host.auraiya.online/pwa/icons/144x144.jpg" />
  
  
  	<style type="text/css">
		.add-to {
			background-color: #E02D44; 
			width: 30%;
		} 
		.add-to-btn {
			background-color: #E02D44; 
			color: white; 
			border: none; 
			outline:none; 
			font-weight: bold; 
			width: 100%; 
			height: 50px; 
		} 
	</style>
  
  
</head>

<body>

<a href="https://www.auraiya.online">Auraiya News</a>

  
  	<div class="container">
		<h1 class="text-center">Add to home screen feature on localhost</h1>
		<hr>
		<center>
			<div class="add-to">
				<button class="add-to-btn">hbi</button>
			</div>
      </div>
  
  
<script type="text/javascript">
	if ('serviceWorker' in navigator) {
	  window.addEventListener('load', function() {
	    navigator.serviceWorker.register('/sw.js').then(function(registration) {
	      // Registration was successful
	      console.log('ServiceWorker registration successful with scope: ', registration.scope);
	    }, function(err) {
	      // registration failed :(
	      console.log('ServiceWorker registration failed: ', err);
	    });
	  });
	}

	let deferredPrompt;
	var div = document.querySelector('.add-to');
	var button = document.querySelector('.add-to-btn');
	div.style.display = 'none';

	window.addEventListener('beforeinstallprompt', (e) => {
	  // Prevent Chrome 67 and earlier from automatically showing the prompt
	  e.preventDefault();
	  // Stash the event so it can be triggered later.
	  deferredPrompt = e;
	  div.style.display = 'block';

	  button.addEventListener('click', (e) => {
	  // hide our user interface that shows our A2HS button
	  div.style.display = 'none';
	  // Show the prompt
	  deferredPrompt.prompt();
	  // Wait for the user to respond to the prompt
	  deferredPrompt.userChoice
	    .then((choiceResult) => {
	      if (choiceResult.outcome === 'accepted') {
	        console.log('User accepted the A2HS prompt');
	      } else {
	        console.log('User dismissed the A2HS prompt');
	      }
	      deferredPrompt = null;
	    });
	});
	});

</script>

</body>
</html>
